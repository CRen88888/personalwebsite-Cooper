<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Cooper Ren | Portfolio</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <script src="js/theme-analytics.js" defer></script>

    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      :root {
        --primary: #ff006e;
        --secondary: #fb5607;
        --accent: #ff006e;
        --pink: #ff006e;
        --red: #fb5607;
        --dark: #000000;
        --light: #ffffff;
        --gray: #1a1a1a;
        --text-dark: #ffffff;
        --text-light: #e0e0e0;
      }

      body {
        font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
        color: var(--text-dark);
        line-height: 1.6;
        overflow-x: hidden;
        overflow-y: hidden;
        background: linear-gradient(135deg, #000000 0%, #1a0000 25%, #2d0000 50%, #1a001a 75%, #000000 100%);
        background-attachment: fixed;
        min-height: 100vh;
        height: 100vh;
        position: relative;
        transition: background 0.3s ease, color 0.3s ease;
      }

      /* Light Mode Styles */
      body.theme-light {
        background: linear-gradient(135deg, #ffffff 0%, #f5f5f5 25%, #e8e8e8 50%, #f0f0f0 75%, #ffffff 100%);
        color: #000000;
      }

      body.theme-light nav {
        background: rgba(255, 255, 255, 0.95);
        border-bottom: 1px solid rgba(255, 0, 110, 0.2);
        box-shadow: 0 2px 20px rgba(0, 0, 0, 0.1);
      }

      body.theme-light .nav-links a {
        color: #000000;
      }

      body.theme-light .nav-links a:hover {
        color: #ff006e;
      }

      body.theme-light section {
        color: #000000;
      }

      body.theme-light .hero .subtitle {
        color: #333333;
      }

      body.theme-light .about-text p {
        color: #333333;
      }

      body.theme-light .projects-header p {
        color: #333333;
      }

      /* Theme Toggle Button */
      .theme-toggle-btn {
        background: rgba(255, 0, 110, 0.2);
        border: 1px solid rgba(255, 0, 110, 0.3);
        border-radius: 50%;
        width: 40px;
        height: 40px;
        display: flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        font-size: 1.2rem;
        transition: all 0.3s ease;
        margin-left: 1rem;
      }

      .theme-toggle-btn:hover {
        background: rgba(255, 0, 110, 0.4);
        transform: scale(1.1);
      }

      body.theme-light .theme-toggle-btn {
        background: rgba(255, 0, 110, 0.1);
        border-color: rgba(255, 0, 110, 0.2);
      }

      body.theme-light .theme-toggle-btn:hover {
        background: rgba(255, 0, 110, 0.2);
      }

      /* Navigation */
      nav {
        position: fixed;
        top: 0;
        width: 100%;
        background: rgba(0, 0, 0, 0.85);
        backdrop-filter: blur(15px);
        box-shadow: 0 2px 20px rgba(255, 0, 110, 0.2);
        border-bottom: 1px solid rgba(255, 0, 110, 0.3);
        z-index: 1000;
        padding: 1rem 0;
        transition: all 0.3s ease;
      }

      nav.scrolled {
        padding: 0.7rem 0;
        box-shadow: 0 2px 30px rgba(255, 0, 110, 0.3);
        background: rgba(0, 0, 0, 0.95);
      }

      .nav-container {
        max-width: 1200px;
        margin: 0 auto;
        padding: 0 2rem;
        display: flex;
        justify-content: space-between;
        align-items: center;
      }

      .logo {
        font-size: 1.5rem;
        font-weight: 700;
        background: linear-gradient(135deg, #ff006e, #fb5607, #ff006e);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
      }

      .nav-links {
        display: flex;
        gap: 2rem;
        list-style: none;
      }

      .nav-links a {
        text-decoration: none;
        color: var(--text-dark);
        font-weight: 500;
        transition: color 0.3s ease;
        position: relative;
      }

      .nav-links a::after {
        content: '';
        position: absolute;
        bottom: -5px;
        left: 0;
        width: 0;
        height: 2px;
        background: linear-gradient(135deg, #ff006e, #fb5607);
        transition: width 0.3s ease;
      }

      .nav-links a:hover::after,
      .nav-links a.active::after {
        width: 100%;
      }

      .nav-links a:hover {
        color: #ff006e;
      }

      .mobile-menu-toggle {
        display: none;
        flex-direction: column;
        gap: 5px;
        cursor: pointer;
        background: none;
        border: none;
      }

      .mobile-menu-toggle span {
        width: 25px;
        height: 3px;
        background: var(--text-dark);
        transition: all 0.3s ease;
        border-radius: 3px;
      }

      /* Sections */
      section {
        min-height: 100vh;
        padding: 5rem 2rem;
        padding-top: 6rem;
        display: flex;
        align-items: center;
        justify-content: center;
        transition: opacity 0.5s ease, visibility 0.5s ease;
      }

      /* Hide all sections except home initially */
      section:not(#home) {
        display: none;
        opacity: 0;
        visibility: hidden;
      }

      section.active {
        display: block;
        opacity: 1;
        visibility: visible;
      }

      section#home.active,
      section#about.active,
      section#contact.active {
        display: flex;
      }

      /* Make sections clickable */
      section:not(#home) {
        cursor: pointer;
      }

      .container {
        max-width: 1200px;
        width: 100%;
        margin: 0 auto;
      }

      /* Hero Section */
      .hero {
        background: linear-gradient(135deg, #000000 0%, #1a0000 20%, #2d0000 40%, #3d0014 60%, #4d0026 80%, #000000 100%);
        color: white;
        text-align: center;
        position: relative;
        overflow: hidden;
      }

      .hero::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: 
          radial-gradient(circle at 20% 50%, rgba(255, 0, 110, 0.15) 0%, transparent 50%),
          radial-gradient(circle at 80% 80%, rgba(251, 86, 7, 0.1) 0%, transparent 50%),
          radial-gradient(circle at 40% 20%, rgba(255, 0, 110, 0.1) 0%, transparent 50%);
        opacity: 1;
        animation: pulse 8s ease-in-out infinite;
      }

      @keyframes pulse {
        0%, 100% { opacity: 1; }
        50% { opacity: 0.8; }
      }

      .hero-content {
        position: relative;
        z-index: 1;
        animation: fadeInUp 1s ease;
      }

      @keyframes fadeInUp {
        from {
          opacity: 0;
          transform: translateY(30px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      .hero h1 {
        font-size: 4rem;
        font-weight: 700;
        margin-bottom: 1rem;
        text-shadow: 2px 2px 10px rgba(0, 0, 0, 0.2);
      }

      .hero .subtitle {
        font-size: 1.5rem;
        font-weight: 300;
        margin-bottom: 2rem;
        opacity: 0.95;
      }

      .hero .cta-button {
        display: inline-block;
        padding: 1rem 2.5rem;
        background: linear-gradient(135deg, #ff006e, #fb5607);
        color: white;
        text-decoration: none;
        border-radius: 50px;
        font-weight: 600;
        transition: transform 0.3s ease, box-shadow 0.3s ease;
        box-shadow: 0 4px 20px rgba(255, 0, 110, 0.4);
      }

      .hero .cta-button:hover {
        transform: translateY(-3px);
        box-shadow: 0 6px 30px rgba(255, 0, 110, 0.6);
      }

      /* Click anywhere indicator */
      .hero {
        cursor: pointer;
        position: relative;
      }

      .hero::after {
        content: 'Click anywhere to explore';
        position: absolute;
        bottom: 5rem;
        left: 50%;
        transform: translateX(-50%);
        color: rgba(255, 255, 255, 0.6);
        font-size: 0.9rem;
        font-weight: 300;
        animation: fadeInOut 3s ease-in-out infinite;
        z-index: 2;
        pointer-events: none;
      }

      @keyframes fadeInOut {
        0%, 100% { opacity: 0.4; }
        50% { opacity: 0.8; }
      }

      /* Click indicator for other sections */
      section:not(#home).active::before {
        content: 'Click anywhere to continue';
        position: absolute;
        bottom: 2rem;
        left: 50%;
        transform: translateX(-50%);
        color: rgba(255, 255, 255, 0.5);
        font-size: 0.85rem;
        font-weight: 300;
        animation: fadeInOut 3s ease-in-out infinite;
        z-index: 2;
        pointer-events: none;
      }

      /* About Section */
      .about {
        background: transparent;
      }

      .about-content {
        display: grid;
        grid-template-columns: 1fr 2fr;
        gap: 4rem;
        align-items: center;
      }

      .about-image {
        width: 100%;
        max-width: 400px;
        aspect-ratio: 1;
        border-radius: 20px;
        background: linear-gradient(135deg, #ff006e, #fb5607, #ff006e);
        display: flex;
        align-items: center;
        justify-content: center;
        color: white;
        font-size: 8rem;
        box-shadow: 0 10px 40px rgba(255, 0, 110, 0.4);
        margin: 0 auto;
      }

      .about-text h2 {
        font-size: 3rem;
        margin-bottom: 1.5rem;
        background: linear-gradient(135deg, #ff006e, #fb5607);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
      }

      .about-text p {
        font-size: 1.1rem;
        color: var(--text-light);
        margin-bottom: 1.5rem;
        line-height: 1.8;
      }

      .skills {
        display: flex;
        flex-wrap: wrap;
        gap: 1rem;
        margin-top: 2rem;
      }

      .skill-tag {
        padding: 0.5rem 1.5rem;
        background: linear-gradient(135deg, #ff006e, #fb5607);
        color: white;
        border-radius: 25px;
        font-size: 0.9rem;
        font-weight: 500;
        transition: transform 0.3s ease;
      }

      .skill-tag:hover {
        transform: scale(1.05);
      }

      /* Projects Section */
      .projects {
        background: rgba(0, 0, 0, 0.3);
        min-height: 100vh;
        padding: 6rem 0 4rem;
      }

      .projects-header {
        text-align: center;
        margin-bottom: 4rem;
      }

      .projects-header h2 {
        font-size: 3rem;
        margin-bottom: 1rem;
        background: linear-gradient(135deg, #ff006e, #fb5607);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
      }

      .projects-header p {
        font-size: 1.2rem;
        color: var(--text-light);
      }

      .projects-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        gap: 2rem;
        margin-top: 3rem;
      }

      .project-card {
        background: rgba(26, 26, 26, 0.8);
        border: 1px solid rgba(255, 0, 110, 0.2);
        border-radius: 15px;
        overflow: hidden;
        box-shadow: 0 5px 20px rgba(0, 0, 0, 0.5);
        transition: transform 0.3s ease, box-shadow 0.3s ease, border-color 0.3s ease;
        display: flex;
        flex-direction: column;
      }

      .project-card:hover {
        transform: translateY(-10px);
        box-shadow: 0 10px 40px rgba(255, 0, 110, 0.4);
        border-color: rgba(255, 0, 110, 0.5);
      }

      .project-image {
        width: 100%;
        height: 200px;
        background: linear-gradient(135deg, #ff006e, #fb5607);
        display: flex;
        align-items: center;
        justify-content: center;
        color: white;
        font-size: 3rem;
        position: relative;
        overflow: hidden;
      }

      .project-image::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: url("data:image/svg+xml,%3Csvg width='40' height='40' viewBox='0 0 40 40' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='%23ffffff' fill-opacity='0.1'%3E%3Cpath d='M20 20.5V18H0v-2h20v-2H0v-2h20v-2H0V8h20V6H0V4h20V2H0V0h22v20.5zM0 20h2v20H0V20zm4 0h2v20H4V20zm4 0h2v20H8V20zm4 0h2v20h-2V20zm4 0h2v20h-2V20z'/%3E%3C/g%3E%3C/svg%3E");
        opacity: 0.3;
      }

      .project-content {
        padding: 1.5rem;
        flex-grow: 1;
        display: flex;
        flex-direction: column;
      }

      .project-card h3 {
        font-size: 1.5rem;
        margin-bottom: 0.5rem;
        color: var(--text-dark);
      }

      .project-card p {
        color: var(--text-light);
        margin-bottom: 1rem;
        flex-grow: 1;
      }

      .project-tags {
        display: flex;
        flex-wrap: wrap;
        gap: 0.5rem;
        margin-bottom: 1rem;
      }

      .project-tag {
        padding: 0.3rem 0.8rem;
        background: rgba(255, 0, 110, 0.2);
        color: var(--text-dark);
        border: 1px solid rgba(255, 0, 110, 0.3);
        border-radius: 15px;
        font-size: 0.85rem;
        font-weight: 500;
      }

      .project-links {
        display: flex;
        gap: 1rem;
        margin-top: auto;
      }

      .project-link {
        padding: 0.5rem 1.5rem;
        background: linear-gradient(135deg, #ff006e, #fb5607);
        color: white;
        text-decoration: none;
        border-radius: 25px;
        font-size: 0.9rem;
        font-weight: 500;
        transition: transform 0.3s ease, box-shadow 0.3s ease;
        display: inline-block;
      }

      .project-link:hover {
        transform: scale(1.05);
        box-shadow: 0 4px 15px rgba(255, 0, 110, 0.5);
      }

      .project-link.secondary {
        background: transparent;
        border: 2px solid #ff006e;
        color: #ff006e;
      }

      .project-link.secondary:hover {
        background: #ff006e;
        color: white;
      }

      .empty-state {
        text-align: center;
        padding: 3rem;
        color: var(--text-light);
      }

      .empty-state p {
        font-size: 1.1rem;
        margin-top: 1rem;
      }

      /* Smooth Scroll */
      html {
        scroll-behavior: smooth;
      }

      /* Responsive */
      @media (max-width: 768px) {
        .nav-links {
          position: fixed;
          top: 70px;
          left: 0;
          width: 100%;
          background: rgba(0, 0, 0, 0.95);
          border-top: 1px solid rgba(255, 0, 110, 0.3);
          flex-direction: column;
          padding: 2rem;
          box-shadow: 0 5px 20px rgba(255, 0, 110, 0.2);
          transform: translateX(-100%);
          transition: transform 0.3s ease;
        }

        .nav-links.active {
          transform: translateX(0);
        }

        .mobile-menu-toggle {
          display: flex;
        }

        .hero h1 {
          font-size: 2.5rem;
        }

        .hero .subtitle {
          font-size: 1.2rem;
        }

        .about-content {
          grid-template-columns: 1fr;
          gap: 2rem;
        }

        .about-image {
          max-width: 300px;
          font-size: 6rem;
        }

        .about-text h2 {
          font-size: 2rem;
        }

        .projects-header h2 {
          font-size: 2rem;
        }

        .projects-grid {
          grid-template-columns: 1fr;
          gap: 1.5rem;
        }

        section {
          padding: 3rem 1.5rem;
        }
      }

      /* Animations */
      .fade-in {
        opacity: 0;
        transform: translateY(20px);
        transition: opacity 0.6s ease, transform 0.6s ease;
      }

      .fade-in.visible {
        opacity: 1;
        transform: translateY(0);
      }

    </style>
  </head>
  <body>
    <!-- Navigation -->
    <nav id="navbar">
      <div class="nav-container">
        <div class="logo">Cooper Ren</div>
        <button class="mobile-menu-toggle" id="mobileMenuToggle">
          <span></span>
          <span></span>
          <span></span>
        </button>
        <ul class="nav-links" id="navLinks">
          <li><a href="#home" class="active">Home</a></li>
          <li><a href="about.html">About</a></li>
          <li><a href="projects.html">Projects</a></li>
          <li><a href="educational.html">Pascal's Triangle</a></li>
          <li><a href="pokemoncards.html">Pok√©mon Cards</a></li>
          <li><a href="analytics.html">Analytics</a></li>
          <li><a href="snake.html">Snake Game</a></li>
          <li><a href="#contact">Contact</a></li>
        </ul>
      </div>
    </nav>

    <!-- Hero Section -->
    <section id="home" class="hero">
      <div class="container">
        <div class="hero-content">
          <h1>Hi, I'm Cooper Ren</h1>
          <p class="subtitle">Welcome to my personal website</p>
          <a href="about.html" class="cta-button">Learn More About Me</a>
        </div>
      </div>
    </section>

    <!-- About Section -->
    <section id="about" class="about">
      <div class="container">
        <div class="about-content">
          <div class="about-image fade-in">
            CR
          </div>
          <div class="about-text fade-in">
            <h2>About Me</h2>
            <p>
              Hello! I'm Cooper Ren, a current senior at Harvard-Westlake. I'm a competitive swimmer 
              who thrives both in the pool and in the classroom, always pushing myself to excel in 
              everything I do.
            </p>
            <p>
              Beyond athletics, I'm a passionate learner with an insatiable thirst for knowledge. 
              Whether it's diving deep into academic subjects, exploring new technologies, or 
              tackling complex problems, I'm constantly seeking opportunities to grow and expand 
              my understanding of the world around me.
            </p>
            <p>
              My dedication to swimming has taught me discipline, perseverance, and the importance 
              of continuous improvement‚Äîvalues that I apply to all aspects of my life. As I prepare 
              for the next chapter of my journey, I'm excited to continue pursuing my passions and 
              making a meaningful impact.
            </p>
            <div class="skills">
              <span class="skill-tag">Competitive Swimming</span>
              <span class="skill-tag">Academic Excellence</span>
              <span class="skill-tag">Continuous Learning</span>
              <span class="skill-tag">Perseverance</span>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Projects Section -->
    <section id="projects" class="projects">
      <div class="container">
        <div class="projects-header fade-in">
          <h2>My Projects</h2>
          <p>Check out some of my recent work and creations</p>
        </div>
        
        <div class="projects-grid" id="projectsGrid">
          <div class="project-card fade-in">
            <div class="project-image">
              üî∫
            </div>
            <div class="project-content">
              <h3>Pascal's Triangle</h3>
              <p>An interactive educational tool that visualizes Pascal's Triangle with mathematical properties, binomial expansions, and pattern exploration. Features include mod coloring, identity highlighting, and real-time calculations.</p>
              <div class="project-tags">
                <span class="project-tag">HTML</span>
                <span class="project-tag">CSS</span>
                <span class="project-tag">JavaScript</span>
                <span class="project-tag">Math</span>
              </div>
              <div class="project-links">
                <a href="educational.html" class="project-link">Live Demo</a>
              </div>
            </div>
          </div>

          <div class="project-card fade-in">
            <div class="project-image">
              üÉè
            </div>
            <div class="project-content">
              <h3>Pok√©mon Cards Collection</h3>
              <p>A dynamic web application for managing a Pok√©mon card collection with Firebase integration. Features include adding, editing, deleting cards, automatic image fetching, price sorting, and portfolio value calculation.</p>
              <div class="project-tags">
                <span class="project-tag">HTML</span>
                <span class="project-tag">CSS</span>
                <span class="project-tag">JavaScript</span>
                <span class="project-tag">Firebase</span>
                <span class="project-tag">Firestore</span>
              </div>
              <div class="project-links">
                <a href="pokemoncards.html" class="project-link">Live Demo</a>
              </div>
            </div>
          </div>

          <div class="project-card fade-in">
            <div class="project-image">
              üìä
            </div>
            <div class="project-content">
              <h3>Analytics Dashboard</h3>
              <p>A comprehensive analytics dashboard for tracking website metrics and user behavior. Features include page view tracking, visitor analytics, theme preference tracking, and real-time data visualization with interactive charts.</p>
              <div class="project-tags">
                <span class="project-tag">HTML</span>
                <span class="project-tag">CSS</span>
                <span class="project-tag">JavaScript</span>
                <span class="project-tag">Analytics</span>
                <span class="project-tag">Data Visualization</span>
              </div>
              <div class="project-links">
                <a href="analytics.html" class="project-link">Live Demo</a>
              </div>
            </div>
          </div>

          <div class="project-card fade-in">
            <div class="project-image">
              üêç
            </div>
            <div class="project-content">
              <h3>Snake Game</h3>
              <p>A classic Snake game with modern features including a global leaderboard powered by Firebase Firestore, local high score tracking with browser storage, smooth animations, and responsive controls. Compete with players worldwide!</p>
              <div class="project-tags">
                <span class="project-tag">HTML</span>
                <span class="project-tag">Canvas</span>
                <span class="project-tag">JavaScript</span>
                <span class="project-tag">Firebase</span>
                <span class="project-tag">Game Dev</span>
              </div>
              <div class="project-links">
                <a href="snake.html" class="project-link">Play Now</a>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Contact Section -->
    <section id="contact" class="about" style="min-height: 50vh;">
      <div class="container">
        <div class="about-text fade-in" style="text-align: center;">
          <h2>Get In Touch</h2>
          <p style="font-size: 1.2rem; margin-bottom: 1.5rem;">
            I'd love to hear from you! Feel free to reach out if you'd like to connect,
            collaborate, or just say hello. I'm always open to discussing new opportunities,
            projects, or just having a conversation.
          </p>
          <p style="font-size: 1.3rem; margin-top: 2rem;">
            <a href="mailto:cren2@hwemail.com" style="color: #ff006e; text-decoration: none; font-weight: 600; transition: color 0.3s ease;" onmouseover="this.style.color='#fb5607'" onmouseout="this.style.color='#ff006e'">
              üìß cren2@hwemail.com
            </a>
          </p>
        </div>
      </div>
    </section>

    <script>
      // Mobile menu toggle
      const mobileMenuToggle = document.getElementById('mobileMenuToggle');
      const navLinks = document.getElementById('navLinks');

      mobileMenuToggle.addEventListener('click', () => {
        navLinks.classList.toggle('active');
      });

      // Close mobile menu when clicking a link
      document.querySelectorAll('.nav-links a').forEach(link => {
        link.addEventListener('click', () => {
          navLinks.classList.remove('active');
        });
      });

      // Navbar scroll effect
      const navbar = document.getElementById('navbar');
      window.addEventListener('scroll', () => {
        if (window.scrollY > 50) {
          navbar.classList.add('scrolled');
        } else {
          navbar.classList.remove('scrolled');
        }
      });

      // Page switching variables - defined early
      const allSectionsForNavigation = ['home', 'about', 'projects', 'contact'];
      let currentPageIndex = 0;
      
      // Active link highlighting - update based on current page
      const navLinksList = document.querySelectorAll('.nav-links a');
      
      function updateActiveNavLink() {
        const currentSectionId = allSectionsForNavigation[currentPageIndex];
        navLinksList.forEach(link => {
          link.classList.remove('active');
          const href = link.getAttribute('href');
          // Only check anchor links, not external links
          if (href.startsWith('#') && href.slice(1) === currentSectionId) {
            link.classList.add('active');
          }
        });
      }

      // Fade in animation on scroll
      const observerOptions = {
        threshold: 0.1,
        rootMargin: '0px 0px -50px 0px'
      };

      const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
          if (entry.isIntersecting) {
            entry.target.classList.add('visible');
          }
        });
      }, observerOptions);

      document.querySelectorAll('.fade-in').forEach(el => {
        observer.observe(el);
      });

      // Handle CTA button and other anchor links (not nav links)
      document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        // Skip nav links - they're handled separately
        if (anchor.closest('.nav-links')) {
          return;
        }
        
        anchor.addEventListener('click', function (e) {
          const href = this.getAttribute('href');
          const targetId = href.slice(1);
          
          // Use page switching for section links
          const targetIndex = allSectionsForNavigation.indexOf(targetId);
          if (targetIndex !== -1) {
            e.preventDefault();
            currentPageIndex = targetIndex;
            switchToPage(currentPageIndex);
          }
        });
      });

      // Page switching functionality - only show one page at a time
      function switchToPage(pageIndex) {
        // Hide all sections
        allSectionsForNavigation.forEach((sectionId, index) => {
          const section = document.getElementById(sectionId);
          if (section) {
            section.classList.remove('active');
            section.style.display = 'none';
          }
        });

        // Show the target section
        const targetSectionId = allSectionsForNavigation[pageIndex];
        const targetSection = document.getElementById(targetSectionId);
        if (targetSection) {
          targetSection.classList.add('active');
          // Let CSS handle display property
          targetSection.style.display = '';
          
          // Trigger fade-in animations for elements in this section
          setTimeout(() => {
            const fadeElements = targetSection.querySelectorAll('.fade-in');
            fadeElements.forEach(el => {
              el.classList.add('visible');
            });
          }, 50);
          
          // Scroll to top to ensure section is visible
          window.scrollTo({
            top: 0,
            behavior: 'smooth'
          });
        }

        // Update active nav link
        updateActiveNavLink();
      }

      // Handle hash navigation from external pages
      function handleHashNavigation() {
        const hash = window.location.hash;
        if (hash) {
          const targetId = hash.slice(1); // Remove the #
          const targetIndex = allSectionsForNavigation.indexOf(targetId);
          if (targetIndex !== -1) {
            currentPageIndex = targetIndex;
            switchToPage(currentPageIndex);
          }
        }
      }

      // Handle hash changes
      window.addEventListener('hashchange', handleHashNavigation);

      // Initialize - show only home page
      document.addEventListener('DOMContentLoaded', function() {
        // Check for hash first
        const hash = window.location.hash;
        if (hash) {
          const targetId = hash.slice(1);
          const targetIndex = allSectionsForNavigation.indexOf(targetId);
          if (targetIndex !== -1) {
            currentPageIndex = targetIndex;
            switchToPage(currentPageIndex);
            return; // Skip default initialization
          }
        }
        
        // Default: Ensure home is visible and others are hidden
        const homeSection = document.getElementById('home');
        if (homeSection) {
          homeSection.classList.add('active');
          homeSection.style.display = 'flex';
        }
        
        // Hide other sections
        ['about', 'projects', 'contact'].forEach(sectionId => {
          const section = document.getElementById(sectionId);
          if (section) {
            section.classList.remove('active');
            section.style.display = 'none';
          }
        });
        
        currentPageIndex = 0;
        updateActiveNavLink();

        // Click handler for home section
        const heroSection = document.getElementById('home');
        if (heroSection) {
          heroSection.addEventListener('click', function(e) {
            // Don't navigate if clicking on the button (let it navigate to about.html)
            if (e.target.closest('.cta-button')) {
              e.stopPropagation();
              // Button will navigate to about.html normally
              return;
            }
            
            // Clicking anywhere on home goes to projects.html
            window.location.href = 'projects.html';
          });
        }

        // Click handlers for other sections
        const aboutSection = document.getElementById('about');
        const projectsSection = document.getElementById('projects');
        const contactSection = document.getElementById('contact');

        if (aboutSection) {
          aboutSection.addEventListener('click', function(e) {
            // Don't navigate if clicking on interactive elements
            if (e.target.closest('a') || e.target.closest('button')) {
              return;
            }
            currentPageIndex = 2; // Go to projects
            switchToPage(currentPageIndex);
          });
        }

        if (projectsSection) {
          projectsSection.addEventListener('click', function(e) {
            // Don't navigate if clicking on interactive elements (links, buttons, etc.)
            if (e.target.closest('a') || e.target.closest('button') || e.target.closest('.project-card')) {
              return;
            }
            // Clicking background goes to contact
            currentPageIndex = 3;
            switchToPage(currentPageIndex);
          });
        }

        if (contactSection) {
          contactSection.addEventListener('click', function(e) {
            // Don't navigate if clicking on interactive elements
            if (e.target.closest('a') || e.target.closest('button')) {
              return;
            }
            currentPageIndex = 0; // Cycle back to home
            switchToPage(currentPageIndex);
          });
        }

        // Update navigation links to use page switching
        document.querySelectorAll('.nav-links a').forEach(link => {
          const href = link.getAttribute('href');
          
          // Skip event listener attachment for external links entirely
          if (href.includes('.html') || href.startsWith('http')) {
            return; // Don't attach any listener, let browser handle it
          }
          
          // Only attach listener for anchor links
          link.addEventListener('click', function(e) {
            // It's an anchor link - use page switching
            e.preventDefault();
            const targetId = href.slice(1); // Remove the #
            const targetIndex = allSectionsForNavigation.indexOf(targetId);
            if (targetIndex !== -1) {
              currentPageIndex = targetIndex;
              switchToPage(currentPageIndex);
            }
          });
        });
      });
    </script>
  </body>
</html>
